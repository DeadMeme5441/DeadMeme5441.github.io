/* Neon Genesis Evangelion Dark Theme - "Get in the robot, Shinji!" */
/* Psychological, clinical, mysterious dark theme */
[data-theme="dark"], 
[data-theme="evangelion"] {
  /* Primary colors - Eva Unit-01 Purple */
  --color-primary-50: 245 243 255;
  --color-primary-100: 237 233 254;
  --color-primary-200: 221 214 254;
  --color-primary-300: 196 181 253;
  --color-primary-400: 167 139 250;
  --color-primary-500: 139 92 246;     /* Eva Purple */
  --color-primary-600: 124 58 237;
  --color-primary-700: 109 40 217;
  --color-primary-800: 91 33 182;
  --color-primary-900: 76 29 149;
  --color-primary-950: 46 16 101;

  /* Secondary colors - MAGI Terminal Green */
  --color-secondary-50: 240 253 244;
  --color-secondary-100: 220 252 231;
  --color-secondary-200: 187 247 208;
  --color-secondary-300: 134 239 172;
  --color-secondary-400: 74 222 128;
  --color-secondary-500: 34 197 94;     /* Terminal Green */
  --color-secondary-600: 22 163 74;
  --color-secondary-700: 21 128 61;
  --color-secondary-800: 22 101 52;
  --color-secondary-900: 20 83 45;
  --color-secondary-950: 5 46 22;

  /* Accent colors - AT Field Orange */
  --color-accent-50: 255 251 235;
  --color-accent-100: 254 243 199;
  --color-accent-200: 253 230 138;
  --color-accent-300: 252 211 77;
  --color-accent-400: 251 191 36;
  --color-accent-500: 245 158 11;      /* AT Field Orange */
  --color-accent-600: 217 119 6;
  --color-accent-700: 180 83 9;
  --color-accent-800: 146 64 14;
  --color-accent-900: 120 53 15;
  --color-accent-950: 69 26 3;

  /* Surface colors - Dark theme (NERV facility to LCL darkness) */
  --color-surface-0: 255 255 255;      /* Clinical white (for contrast) */
  --color-surface-50: 248 250 252;     /* Off-white */
  --color-surface-100: 241 245 249;    /* Light */
  --color-surface-200: 226 232 240;    /* Medium light */
  --color-surface-300: 203 213 225;    /* Medium */
  --color-surface-400: 148 163 184;    /* Medium dark */
  --color-surface-500: 100 116 139;    /* Dark */
  --color-surface-600: 71 85 105;      /* Darker */
  --color-surface-700: 51 65 85;       /* Very dark */
  --color-surface-800: 30 41 59;       /* NERV console */
  --color-surface-900: 17 24 39;       /* Deep facility */
  --color-surface-950: 3 7 18;         /* LCL darkness */

  /* Dark theme specific gradients */
  --bg-hero-gradient: 
    radial-gradient(800px 400px at 30% 20%, rgba(139, 92, 246, 0.15), transparent 50%),
    radial-gradient(600px 300px at 70% 80%, rgba(34, 197, 94, 0.12), transparent 50%),
    radial-gradient(1000px 500px at 50% 0%, rgba(245, 158, 11, 0.08), transparent 60%),
    linear-gradient(180deg, rgb(var(--color-surface-900)) 0%, rgb(var(--color-surface-950)) 100%);

  --bg-brand-gradient: linear-gradient(135deg, rgb(var(--color-primary-500)), rgb(var(--color-secondary-500)));

  --bg-card-gradient: 
    linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.02) 100%),
    linear-gradient(180deg, rgba(139, 92, 246, 0.08) 0%, transparent 50%),
    rgb(var(--color-surface-800));

  /* Dark glow effects - AT Field and Eva energy */
  --shadow-glow: 
    0 0 20px rgba(139, 92, 246, 0.4),
    0 0 40px rgba(245, 158, 11, 0.2),
    0 0 2px rgba(34, 197, 94, 0.6);

  --shadow-glow-lg: 
    0 0 30px rgba(139, 92, 246, 0.5),
    0 0 60px rgba(245, 158, 11, 0.3),
    0 0 90px rgba(34, 197, 94, 0.2),
    0 0 4px rgba(255, 255, 255, 0.8);
}

/* ===== EVANGELION CSS ARTIFACTS ===== */

/* 1. AT Field Hexagon Pattern */
.at-field {
  width: 100px;
  height: 100px;
  position: relative;
  display: inline-block;
}

.at-field::before {
  content: '';
  position: absolute;
  inset: 0;
  background: 
    radial-gradient(circle at 50% 50%, rgba(245, 158, 11, 0.6) 0%, transparent 70%),
    conic-gradient(from 0deg,
      transparent 0deg,
      rgba(245, 158, 11, 0.4) 60deg,
      transparent 120deg,
      rgba(245, 158, 11, 0.6) 180deg,
      transparent 240deg,
      rgba(245, 158, 11, 0.4) 300deg,
      transparent 360deg);
  clip-path: polygon(30% 0%, 70% 0%, 100% 50%, 70% 100%, 30% 100%, 0% 50%);
  animation: at-field-pulse 4s ease-in-out infinite;
}

.at-field::after {
  content: '';
  position: absolute;
  inset: 15px;
  border: 2px solid rgba(245, 158, 11, 0.8);
  clip-path: polygon(30% 0%, 70% 0%, 100% 50%, 70% 100%, 30% 100%, 0% 50%);
  animation: at-field-pulse 4s ease-in-out infinite;
  animation-delay: 0.5s;
}

/* 2. Cross of Light */
.cross-light {
  width: 60px;
  height: 80px;
  position: relative;
  display: inline-block;
}

.cross-light::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 0;
  width: 4px;
  height: 100%;
  background: linear-gradient(0deg,
    rgba(139, 92, 246, 0.9) 0%,
    rgba(255, 255, 255, 0.8) 50%,
    rgba(139, 92, 246, 0.9) 100%);
  transform: translateX(-50%);
  animation: cross-glow 3s ease-in-out infinite;
  filter: drop-shadow(0 0 10px rgba(139, 92, 246, 0.5));
}

.cross-light::after {
  content: '';
  position: absolute;
  left: 0;
  top: 25%;
  width: 100%;
  height: 4px;
  background: linear-gradient(90deg,
    rgba(139, 92, 246, 0.9) 0%,
    rgba(255, 255, 255, 0.8) 50%,
    rgba(139, 92, 246, 0.9) 100%);
  animation: cross-glow 3s ease-in-out infinite;
  animation-delay: 0.3s;
  filter: drop-shadow(0 0 10px rgba(139, 92, 246, 0.5));
}

/* 3. Eva Unit Silhouette */
.eva-silhouette {
  width: 60px;
  height: 100px;
  position: relative;
  display: inline-block;
}

.eva-silhouette::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg,
    rgba(139, 92, 246, 0.8) 0%,
    rgba(34, 197, 94, 0.6) 50%,
    rgba(139, 92, 246, 0.4) 100%);
  clip-path: polygon(
    50% 0%, 
    60% 10%, 
    70% 20%, 
    80% 35%, 
    75% 50%, 
    85% 65%, 
    80% 80%, 
    70% 100%, 
    30% 100%, 
    20% 80%, 
    15% 65%, 
    25% 50%, 
    20% 35%, 
    30% 20%, 
    40% 10%
  );
  animation: eva-sync 3s ease-in-out infinite;
  filter: drop-shadow(0 0 15px rgba(139, 92, 246, 0.4));
}

/* 4. MAGI Terminal Interface */
.magi-terminal {
  width: 200px;
  height: 60px;
  position: relative;
  display: inline-block;
  background: rgba(3, 7, 18, 0.9);
  border: 1px solid rgba(34, 197, 94, 0.3);
  font-family: 'Courier New', monospace;
  overflow: hidden;
}

.magi-terminal::before {
  content: '> MAGI_SYSTEM_ONLINE_';
  position: absolute;
  top: 50%;
  left: 10px;
  transform: translateY(-50%);
  color: rgba(34, 197, 94, 0.8);
  font-size: 12px;
  animation: terminal-type 2s steps(20) infinite;
}

.magi-terminal::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, 
    transparent 0%,
    rgba(34, 197, 94, 0.8) 50%,
    transparent 100%);
  animation: terminal-scan 3s ease-in-out infinite;
}

/* 5. LCL Liquid Flow */
.lcl-liquid {
  width: 120px;
  height: 40px;
  position: relative;
  display: inline-block;
  overflow: hidden;
}

.lcl-liquid::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(45deg,
    rgba(245, 158, 11, 0.6) 0%,
    rgba(217, 119, 6, 0.8) 25%,
    rgba(245, 158, 11, 0.4) 50%,
    rgba(180, 83, 9, 0.7) 75%,
    rgba(245, 158, 11, 0.5) 100%);
  background-size: 200% 200%;
  border-radius: 20px;
  animation: lcl-flow 4s ease-in-out infinite;
  filter: blur(1px);
}

.lcl-liquid::after {
  content: '';
  position: absolute;
  inset: 5px;
  background: linear-gradient(45deg,
    rgba(255, 193, 7, 0.8) 0%,
    rgba(245, 158, 11, 0.6) 50%,
    rgba(255, 193, 7, 0.4) 100%);
  background-size: 150% 150%;
  border-radius: 15px;
  animation: lcl-flow 3s ease-in-out infinite reverse;
}

/* 6. Psychological Fragment Effect */
.psych-fragment {
  width: 80px;
  height: 80px;
  position: relative;
  display: inline-block;
}

.psych-fragment::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg,
    rgba(139, 92, 246, 0.6) 0%,
    rgba(255, 255, 255, 0.2) 50%,
    rgba(139, 92, 246, 0.4) 100%);
  clip-path: polygon(
    20% 0%, 
    40% 10%, 
    60% 0%, 
    80% 20%, 
    100% 40%, 
    90% 60%, 
    100% 80%, 
    80% 100%, 
    60% 90%, 
    40% 100%, 
    20% 80%, 
    0% 60%, 
    10% 40%, 
    0% 20%
  );
  animation: fragment-glitch 2s steps(10) infinite;
  filter: drop-shadow(0 0 10px rgba(139, 92, 246, 0.3));
}

/* 7. NERV Logo Pattern */
.nerv-pattern {
  width: 100px;
  height: 80px;
  position: relative;
  display: inline-block;
}

.nerv-pattern::before {
  content: '';
  position: absolute;
  inset: 0;
  background: 
    radial-gradient(ellipse at 50% 20%, rgba(139, 92, 246, 0.4) 0%, transparent 50%),
    linear-gradient(45deg, 
      rgba(34, 197, 94, 0.3) 0%, 
      transparent 30%, 
      rgba(245, 158, 11, 0.2) 70%, 
      transparent 100%);
  clip-path: path('M50,10 Q30,30 50,50 Q70,30 50,10 L50,70 Q35,60 50,50 Q65,60 50,70');
  animation: nerv-pulse 4s ease-in-out infinite;
}

/* ===== EVANGELION ANIMATIONS ===== */

@keyframes at-field-pulse {
  0%, 100% { 
    opacity: 0.6; 
    transform: scale(1); 
    filter: hue-rotate(0deg);
  }
  50% { 
    opacity: 1; 
    transform: scale(1.05); 
    filter: hue-rotate(15deg);
  }
}

@keyframes cross-glow {
  0%, 100% { 
    filter: drop-shadow(0 0 10px rgba(139, 92, 246, 0.5)) brightness(1);
  }
  50% { 
    filter: drop-shadow(0 0 20px rgba(139, 92, 246, 0.8)) brightness(1.3);
  }
}

@keyframes eva-sync {
  0%, 100% { 
    transform: scale(1);
    filter: drop-shadow(0 0 15px rgba(139, 92, 246, 0.4));
  }
  33% { 
    transform: scale(1.02);
    filter: drop-shadow(0 0 20px rgba(34, 197, 94, 0.5));
  }
  66% { 
    transform: scale(0.98);
    filter: drop-shadow(0 0 18px rgba(245, 158, 11, 0.4));
  }
}

@keyframes terminal-type {
  0% { content: '> MAGI_SYSTEM_'; }
  50% { content: '> MAGI_SYSTEM_ONLINE_'; }
  100% { content: '> MAGI_SYSTEM_ONLINE_â–ˆ'; }
}

@keyframes terminal-scan {
  0% { transform: translateX(-100%); opacity: 0; }
  50% { opacity: 1; }
  100% { transform: translateX(100%); opacity: 0; }
}

@keyframes lcl-flow {
  0%, 100% { 
    background-position: 0% 0%; 
    filter: blur(1px) brightness(1);
  }
  50% { 
    background-position: 100% 100%; 
    filter: blur(1.5px) brightness(1.1);
  }
}

@keyframes fragment-glitch {
  0%, 90%, 100% { 
    transform: translateX(0) scale(1);
    filter: drop-shadow(0 0 10px rgba(139, 92, 246, 0.3));
  }
  10% { 
    transform: translateX(-2px) scale(1.02);
    filter: drop-shadow(2px 0 10px rgba(139, 92, 246, 0.5));
  }
  20% { 
    transform: translateX(2px) scale(0.98);
    filter: drop-shadow(-2px 0 10px rgba(139, 92, 246, 0.4));
  }
}

@keyframes nerv-pulse {
  0%, 100% { 
    opacity: 0.6; 
    filter: brightness(1);
  }
  50% { 
    opacity: 0.9; 
    filter: brightness(1.2);
  }
}

/* ===== EVANGELION THEME COMPONENTS ===== */

[data-theme="dark"] .btn-eva,
[data-theme="evangelion"] .btn-eva {
  background: linear-gradient(135deg, 
    rgba(139, 92, 246, 0.15) 0%, 
    rgba(34, 197, 94, 0.1) 50%, 
    rgba(245, 158, 11, 0.05) 100%);
  border: 1px solid rgba(139, 92, 246, 0.3);
  position: relative;
  overflow: hidden;
  font-family: 'Courier New', monospace;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-weight: 500;
}

[data-theme="dark"] .btn-eva::before,
[data-theme="evangelion"] .btn-eva::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(34, 197, 94, 0.2) 50%, 
    transparent 100%);
  transition: left 0.5s ease;
}

[data-theme="dark"] .btn-eva:hover::before,
[data-theme="evangelion"] .btn-eva:hover::before {
  left: 100%;
}

[data-theme="dark"] .btn-eva:hover,
[data-theme="evangelion"] .btn-eva:hover {
  border-color: rgb(var(--color-secondary-500));
  box-shadow: var(--shadow-glow);
  transform: translateY(-1px);
}

[data-theme="dark"] .hero-text,
[data-theme="evangelion"] .hero-text {
  background: var(--bg-brand-gradient);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  font-weight: 300;
  letter-spacing: 1px;
  text-shadow: 
    0 0 10px rgba(139, 92, 246, 0.5),
    0 0 20px rgba(34, 197, 94, 0.3),
    0 0 30px rgba(245, 158, 11, 0.2);
  animation: eva-energy-pulse 4s ease-in-out infinite;
}

[data-theme="dark"] .clinical-interface,
[data-theme="evangelion"] .clinical-interface {
  background: linear-gradient(135deg,
    rgba(255, 255, 255, 0.08) 0%,
    rgba(139, 92, 246, 0.05) 50%,
    rgba(34, 197, 94, 0.03) 100%);
  border: 1px solid rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  position: relative;
}

[data-theme="dark"] .clinical-interface::after,
[data-theme="evangelion"] .clinical-interface::after {
  content: '';
  position: absolute;
  inset: -1px;
  padding: 1px;
  background: linear-gradient(45deg, 
    rgba(139, 92, 246, 0.3),
    rgba(34, 197, 94, 0.2),
    rgba(245, 158, 11, 0.1));
  border-radius: inherit;
  mask: linear-gradient(white 0 0) content-box, linear-gradient(white 0 0);
  -webkit-mask: linear-gradient(white 0 0) content-box, linear-gradient(white 0 0);
  mask-composite: xor;
  -webkit-mask-composite: xor;
  opacity: 0;
  transition: opacity 0.3s ease;
}

[data-theme="dark"] .clinical-interface:hover::after,
[data-theme="evangelion"] .clinical-interface:hover::after {
  opacity: 1;
}

@keyframes eva-energy-pulse {
  0%, 100% { 
    filter: brightness(1) saturate(1); 
    text-shadow: 
      0 0 10px rgba(139, 92, 246, 0.5),
      0 0 20px rgba(34, 197, 94, 0.3);
  }
  50% { 
    filter: brightness(1.2) saturate(1.3); 
    text-shadow: 
      0 0 15px rgba(139, 92, 246, 0.8),
      0 0 30px rgba(34, 197, 94, 0.5),
      0 0 40px rgba(245, 158, 11, 0.3);
  }
}
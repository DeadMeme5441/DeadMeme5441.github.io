---
import { type CollectionEntry, getCollection, render } from 'astro:content';
import InterestingEntry from '../../layouts/InterestingEntry.astro';

export async function getStaticPaths() {
	const entries = await getCollection('interestingStuff');
	return entries
		.filter(({ data }) => !data.draft)
		.map((entry) => ({
			params: { slug: entry.id },
			props: entry,
		}));
}

type Props = CollectionEntry<'interestingStuff'>;

const entry = Astro.props as Props;
const { Content } = await render(entry);
---

<InterestingEntry {...entry.data}>
	<Content />
</InterestingEntry>
